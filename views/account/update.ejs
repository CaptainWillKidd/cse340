<section class="update-account">
  <h1><%= title %></h1>

  <% if (messages && messages.length > 0) { %>
    <div class="flash-message">
      <% messages.forEach(msg => { %>
        <p><%= msg %></p>
      <% }) %>
    </div>
  <% } %>

  <% if (errors && errors.length > 0) { %>
    <ul class="notice">
      <% errors.forEach(err => { %>
        <li><%= err.msg %></li>
      <% }) %>
    </ul>
  <% } %>

  <!-- ===========================
       Account Info Update Form
  ============================ -->
  <section class="account-update">
    <h2>Update Account Information</h2>
    <form action="/account/update" method="post" novalidate>
      <label for="account_firstname">First Name</label>
      <input type="text" id="account_firstname" name="account_firstname" 
             value="<%= typeof account_firstname !== 'undefined' ? account_firstname : accountData.account_firstname %>" 
             required>

      <label for="account_lastname">Last Name</label>
      <input type="text" id="account_lastname" name="account_lastname" 
             value="<%= typeof account_lastname !== 'undefined' ? account_lastname : accountData.account_lastname %>" 
             required>

      <label for="account_email">Email</label>
      <input type="email" id="account_email" name="account_email" 
             value="<%= typeof account_email !== 'undefined' ? account_email : accountData.account_email %>" 
             required>

      <input type="hidden" name="account_id" value="<%= accountData.account_id %>">

      <button type="submit">Update Account</button>
    </form>
  </section>

  <!-- ===========================
       Password Change Form
  ============================ -->
  <section class="password-update">
    <h2>Change Password</h2>
    <p>Enter a new password below to change your current password. 
      Passwords must be at least 12 characters and include a mix of uppercase, lowercase, numbers, and symbols.</p>

    <form action="/account/update-password" method="post" novalidate>
      <label for="account_password">New Password</label>
      <input type="password" id="account_password" name="account_password" required>

      <input type="hidden" name="account_id" value="<%= accountData.account_id %>">

      <button type="submit">Change Password</button>
    </form>
  </section>
</section>